%% LOCAL-LLM-Stack Component Architecture
%% This diagram shows the high-level architecture of the LOCAL-LLM-Stack system
%% Created: 2025-04-06
%% Author: Roo

flowchart TD
    %% Define the main components
    User([User])
    LibreChat[LibreChat\nWeb Interface]
    Ollama[Ollama\nLLM Inference]
    MongoDB[(MongoDB\nDatabase)]
    Meilisearch[(Meilisearch\nSearch Engine)]
    
    %% Define the relationships
    User -->|Interacts with| LibreChat
    LibreChat -->|Sends prompts to| Ollama
    Ollama -->|Returns responses to| LibreChat
    LibreChat -->|Stores conversations in| MongoDB
    LibreChat -->|Searches conversations via| Meilisearch
    MongoDB -->|Indexes data to| Meilisearch
    
    %% Define component groups
    subgraph Frontend
        LibreChat
    end
    
    subgraph Backend
        Ollama
    end
    
    subgraph Storage
        MongoDB
        Meilisearch
    end
    
    %% Style definitions
    classDef user fill:#f9f9f9,stroke:#333,stroke-width:2px
    classDef frontend fill:#d1e7dd,stroke:#0d6efd,stroke-width:2px
    classDef backend fill:#cfe2ff,stroke:#0d6efd,stroke-width:2px
    classDef storage fill:#f8d7da,stroke:#dc3545,stroke-width:2px
    
    %% Apply styles
    class User user
    class LibreChat frontend
    class Ollama backend
    class MongoDB,Meilisearch storage